(function(a){var h,d,e=1,i,j=this,k,l=j.postMessage&&!a.browser.opera;a.postMessage=function(b,c,g){if(c){b=typeof b==="string"?b:a.param(b);g=g||parent;if(l)g.postMessage(b,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1"));else if(c)g.location=c.replace(/#.*$/,"")+"#"+ +new Date+e++ +"&"+b}};a.receiveMessage=k=function(b,c,g){if(l){if(b){i&&k();i=function(f){if(typeof c==="string"&&f.origin!==c||a.isFunction(c)&&c(f.origin)===false)return false;b(f)}}if(j.addEventListener)j[b?"addEventListener":"removeEventListener"]("message",
i,false);else j[b?"attachEvent":"detachEvent"]("onmessage",i)}else{h&&clearInterval(h);h=null;if(b)h=setInterval(function(){var f=document.location.hash,m=/^#?\d+&/;if(f!==d&&m.test(f)){d=f;b({data:f.replace(m,"")})}},typeof c==="number"?c:typeof g==="number"?g:100)}}})(jQuery);
var Duo={init:function(a){if(a)if(a.sig_request){Duo._sig_request=a.sig_request;if(!a.post_action)a.post_action="";Duo._post_action=a.post_action;if(!a.post_argument)a.post_argument="sig_response";Duo._post_argument=a.post_argument;if(!a.host)a.host="api.duosecurity.com";Duo._host=a.host}else alert("Error: missing 'sig_request' argument in Duo.init()");else alert("Error: missing arguments in Duo.init()")},ready:function(){var a=$("#duo_iframe");if(a.length){var h=$.param({tx:Duo._sig_request,parent:document.location.href});
a.attr("src","https://"+Duo._host+"/frame/web/v1/auth?"+h);$.receiveMessage(function(d){d=d.data;d=$('<input type="hidden">').attr("name",Duo._post_argument).val(d);var e=$("#duo_form");e.length||(e=$('<form method="POST">'));e.attr("action",Duo._post_action);e.append(d);e.insertAfter("#duo_iframe");e.submit()},"https://"+Duo._host)}else alert("Error: missing IFRAME element with id 'duo_iframe'")}};$(document).ready(function(){Duo.ready()});
