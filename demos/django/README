Demonstration of a Django site with Duo authentication.

Developed with Django 1.2.  Requires django.contrib.auth.

SETUP:

Install duo_app where Django can find it, for example in your PYTHONPATH.

Edit the following in settings.py:

DUO_LOGIN_URL: URL to use for Duo authentication redirects.  This can be any
unique URL, '/accounts/duo_login' matches the Django authentication URL.

DUO_IKEY, DUO_SKEY, DUO_HOST: Appropriate Duo keys and API host.

Add 'duo_app' to INSTALLED_APPS.

STATIC_PREFIX: Prefix for URLs where static files are served from, without the
trailing slash (e.g. '/static', 'http://example.com/static').

Copy duo_app/static/Duo-Web-v1.bundled.min.js to wherever you're serving static
files from.

TEST:

See example_site for an example Django site which can be used to play with the
app, which has the non-Duo setup already completed, as well as the setup needed
for a complete barebones site with authorization.  To run this site:

As noted above, set up path, edit DUO_IKEY, DUO_SKEY, DUO_HOST in settings,
and copy Duo-Web-v1.bundled.min.js to the static directory.

Start the site with "python manage.py syncdb; python manage.py runserver".

Add a user with same username as on your Duo auth server with the Django admin
interface (or enroll when prompted).

Now you can visit interesting URLs such as /public, /private, /duo_private,
and /duo_private_manual.  To remove your Django and Duo authorization cookies,
visit /accounts/duo_logout and /accounts/logout.

Note that this example serves static files with the Django development server,
which is not recommended for production.
